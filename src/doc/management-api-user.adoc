[[gravitee-management-api-user]]
= It's time to get the job done, bring your guys

This guide walks you through the process of configuring, access, manage your Management API users. 

== Gravitee.io user <==> business user

NOTE: A hook has been set up during the very first login process. Business user (i.e fetch from your company users
datasource (LDAP, Database ...)) will be map to Gravitee.io user repository.

NOTE: Your identity providers can be plugged to the Gravitee.io Management API via the security configuration. See
the <<management-api-security.adoc#,Management API : Security Guide>> to get more information

== Manage your users

NOTE: The Management API is secured, all requests must contain the `Authorization` header with a specific authentication
type (Basic/OAuth 2). See the <<management-api-security.adoc#,Management API : Security Guide>> to get more information

=== Create users

[source]
----
Create user :

=============== =================================================
Request         POST /users
Request Header  Authorization   Basic <Base64.encode(username:password)>
                or
                Authorization   Bearer <your-access-token>
Request Body    ::
                  {
                    "username": "user name (id)",
                    "password": "user password",
                    "firstname" : "user first name",
                    "lastname": "user last name",
                    "email" : "user email",
                    "roles": "[user roles with comma seperator]"
                  }

=============== =================================================
Response Codes  200 OK
                401 Unauthorized
                403 forbidden
                400 Bad Request
Response Body   ::
                  {
                    "username": "user name (id)",
                    "password": "user password",
                    "firstname" : "user first name",
                    "lastname": "user last name",
                    "email" : "user email",
                    "roles": "[user roles with comma seperator]",
                    "created_at": "user creation date",
                    "updated_at": "user update date"
                  }

=============== =================================================
----

=== Update users

[source]
----
Update user :

=============== =================================================
Request         POST /users/<username>
Request Header  Authorization   Basic <Base64.encode(username:password)>
                or
                Authorization   Bearer <your-access-token>
Request Body    ::
                  {
                    "password": "user password",
                    "firstname" : "user first name",
                    "lastname": "user last name",
                    "email" : "user email",
                    "roles": "[user roles with comma seperator]"
                  }

=============== =================================================
Response Codes  200 OK
                401 Unauthorized
                403 forbidden
                400 Bad Request
Response Body   ::
                  {
                    "username": "user name (id)",
                    "password": "user password",
                    "firstname" : "user first name",
                    "lastname": "user last name",
                    "email" : "user email",
                    "roles": "[user roles with comma seperator]",
                    "created_at": "user creation date",
                    "updated_at": "user update date"
                  }

=============== =================================================
----

=== Delete users

[source]
----
Delete user :

=============== =================================================
Request         DELETE /users/<username>
Request Header  Authorization   Basic <Base64.encode(username:password)>
                or
                Authorization   Bearer <your-access-token>

=============== =================================================
Response Codes  200 OK
                401 Unauthorized
                403 forbidden
                400 Bad Request

=============== =================================================
----

=== Get current user

[source]
----
Get current authenticated user :

=============== =================================================
Request         GET /user
Request Header  Authorization   Basic <Base64.encode(username:password)>
                or
                Authorization   Bearer <your-access-token>

=============== =================================================
Response Codes  200 OK
                401 Unauthorized
                403 forbidden
                400 Bad Request
Response Body   ::
                  {
                    "username": "user name (id)",
                    "password": "user password",
                    "firstname" : "user first name",
                    "lastname": "user last name",
                    "email" : "user email",
                    "roles": "[user roles with comma seperator]",
                    "created_at": "user creation date",
                    "updated_at": "user update date"
                  }

=============== =================================================
----

=== Get specified user

[source]
----
Get specified user :

=============== =================================================
Request         GET /users/<username>
Request Header  Authorization   Basic <Base64.encode(username:password)>
                or
                Authorization   Bearer <your-access-token>

=============== =================================================
Response Codes  200 OK
                401 Unauthorized
                403 forbidden
                400 Bad Request
Response Body   ::
                  {
                    "username": "user name (id)",
                    "password": "user password",
                    "firstname" : "user first name",
                    "lastname": "user last name",
                    "email" : "user email",
                    "roles": "[user roles with comma seperator]",
                    "createdAt": "user creation date",
                    "updatedAt": "user update date"
                  }

=============== =================================================
----

=== List public teams for the specified user

[source]
----
Get user teams :

=============== =================================================
Request         GET /users/<username>/teams
Request Header  Authorization   Basic <Base64.encode(username:password)>
                or
                Authorization   Bearer <your-access-token>

=============== =================================================
Response Codes  200 OK
                401 Unauthorized
                403 forbidden
                400 Bad Request
Response Body   ::
                  [
                    {
                      "name": "team name",
                      "description": "team description",
                      "isPrivate" : "team state (private/public)",
                      "email": "team mail",
                      "created_at": "team creation date",
                      "updated_at": "team update date"
                    },

                    {
                      "name": "team 2 name",
                      "description": "team 2 description",
                      "isPrivate" : "team 2 state (private/public)",
                      "email": "team 2 mail",
                      "created_at": "team 2 creation date",
                      "updated_at": "team 2 update date"
                    },
                    ...
                  ]             

=============== =================================================
----

=== List public APIs for the specified user

[source]
----
Get user apis :

=============== =================================================
Request         GET /users/<username>/apis
Request Header  Authorization   Basic <Base64.encode(username:password)>
                or
                Authorization   Bearer <your-access-token>

=============== =================================================
Response Codes  200 OK
                401 Unauthorized
                403 forbidden
                400 Bad Request
Response Body   ::
                  [
                    {
                      "name": "api name",
                      "description": "api description",
                      "public" : "api public URI",
                      "target": "api target URI",
                      "isPrivate: "api state (public/private)",
                      "owner": "api owner",
                      "state": "api lifecycle state (start/stop)",
                      "created_at": "api creation date",
                      "updated_at": "api update date"
                    },

                    {
                      "name": "api 2 name",
                      "description": "api 2 description",
                      "public" : "api 2 public URI",
                      "target": "api 2 target URI",
                      "isPrivate: "api 2 state (public/private)",
                      "owner": "api 2 owner",
                      "state": "api 2 lifecycle state (start/stop)",
                      "created_at": "api 2 creation date",
                      "updated_at": "api 2 update date"
                    },
                    ...
                  ] 

=============== =================================================
----
